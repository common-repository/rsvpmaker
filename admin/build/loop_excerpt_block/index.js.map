{"version":3,"file":"loop_excerpt_block/index.js","mappings":"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","sources":["webpack://admin/./src/loop_excerpt_block/edit.js","webpack://admin/./src/loop_excerpt_block/index.js","webpack://admin/./src/loop_excerpt_block/loop-variations/event-order.js","webpack://admin/./src/loop_excerpt_block/loop-variations/exclude-type.js","webpack://admin/./src/loop_excerpt_block/loop-variations/index.js","webpack://admin/./src/loop_excerpt_block/loop-variations/rsvpslot-inherited-query.js","webpack://admin/./src/loop_excerpt_block/loop-variations/rsvpslot.js","webpack://admin/./src/loop_excerpt_block/loop-variations/taxonomy-controls.js","webpack://admin/./src/loop_excerpt_block/loop-variations/utils.js","webpack://admin/./src/loop_excerpt_block/save.js","webpack://admin/./src/loop_excerpt_block/editor.scss","webpack://admin/./src/loop_excerpt_block/style.scss","webpack://admin/external window \"React\"","webpack://admin/external window [\"wp\",\"apiFetch\"]","webpack://admin/external window [\"wp\",\"blockEditor\"]","webpack://admin/external window [\"wp\",\"blocks\"]","webpack://admin/external window [\"wp\",\"components\"]","webpack://admin/external window [\"wp\",\"compose\"]","webpack://admin/external window [\"wp\",\"coreData\"]","webpack://admin/external window [\"wp\",\"data\"]","webpack://admin/external window [\"wp\",\"element\"]","webpack://admin/external window [\"wp\",\"hooks\"]","webpack://admin/external window [\"wp\",\"htmlEntities\"]","webpack://admin/external window [\"wp\",\"i18n\"]","webpack://admin/webpack/bootstrap","webpack://admin/webpack/runtime/chunk loaded","webpack://admin/webpack/runtime/compat get default export","webpack://admin/webpack/runtime/define property getters","webpack://admin/webpack/runtime/hasOwnProperty shorthand","webpack://admin/webpack/runtime/make namespace object","webpack://admin/webpack/runtime/jsonp chunk loading","webpack://admin/webpack/before-startup","webpack://admin/webpack/startup","webpack://admin/webpack/after-startup"],"sourcesContent":["/**\r\n * Retrieves the translation of text.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-i18n/\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * React hook that is used to mark the block wrapper element.\r\n * It provides all the necessary props like the class name.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\r\n */\r\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nconst { Component, Fragment } = wp.element;\r\nconst { Panel, PanelBody, ToggleControl } = wp.components;\r\nimport React, { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\r\n * Those files can contain any CSS code that gets applied to the editor.\r\n *\r\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\r\n */\r\nimport './editor.scss';\r\n\r\n/**\r\n * The edit function describes the structure of your block in the context of the\r\n * editor. This represents what the editor will render when the block is used.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#edit\r\n *\r\n * @return {WPElement} Element to render.\r\n */\r\nexport default function Edit(props) {\r\n\tconst { attributes: { show_rsvp_button, hide_excerpt, hide_date, hide_type }, setAttributes, context, isSelected } = props;\r\n    const {postId} = context;\r\n    const [excerptobj, setExcerptobj] = useState({});\r\n    console.log(props);\r\n\r\n    useEffect(() => {\r\n        apiFetch( {path: '/rsvpmaker/v1/excerpt/'+postId+'?show_button=='+show_rsvp_button} ).then( ( excerpt ) => {\r\n            setExcerptobj(excerpt);\r\n        } );\r\n    }, []);\r\n\r\n    class ExcerptInspector extends Component {\r\n\t\r\n            render() {\r\n                const { attributes: { show_rsvp_button, hide_excerpt, hide_date, hide_type }, setAttributes, isSelected } = this.props;\r\n                if (typeof hide_type == 'undefined')\r\n                    hide_type = false;\r\n                \r\n                return (\r\n                        <div>\r\n                    <InspectorControls key=\"excerptinspector\">\r\n                    <PanelBody title={ __( 'RSVPMaker Excerpt', 'rsvpmaker' ) } >\r\n                    <p>Optionally, the excerpt can display the date and RSVP registration button. Use the separate RSVPMaker Date Block and RSVPMaker Button blocks for more formatting control of those elements.</p>\r\n                    <h3>Elements shown by default</h3>\r\n                    <ToggleControl\r\n                label={__(\"Hide Event Date/Time\",'rsvpmaker')}\r\n                checked={ hide_date }\r\n                onChange={ ( hide_date ) => { setAttributes( { hide_date } ) } }\r\n            />\r\n            <ToggleControl\r\n                label={__(\"Hide Event Type\",'rsvpmaker')}\r\n                checked={ hide_type }\r\n                onChange={ ( hide_type ) => { setAttributes( { hide_type } ) } }\r\n            />\r\n                    <ToggleControl\r\n                label={__(\"Hide Excerpt\",'rsvpmaker')}\r\n                checked={ hide_excerpt }\r\n                onChange={ ( hide_excerpt ) => { setAttributes( { hide_excerpt } ) } }\r\n            />\r\n            <h3>Optional Elements</h3>\r\n                    <ToggleControl\r\n                label={__(\"Show RSVP Button\",'rsvpmaker')}\r\n                checked={ show_rsvp_button }\r\n                onChange={ ( show_rsvp_button ) => { setAttributes( { show_rsvp_button } ) } }\r\n            />\r\n            </PanelBody>\r\n            </InspectorControls>\r\n            </div>\r\n        );\t} }\r\n    return (\r\n\t\t\t\t<Fragment>\r\n                <div { ...useBlockProps() }>\r\n                        <ExcerptInspector {...props}/>\r\n                        {excerptobj.dateblock && (\r\n                        <>\r\n                        {!hide_date && <div dangerouslySetInnerHTML={{__html: excerptobj.dateblock}} />}\r\n                        {!hide_excerpt && <p>{excerptobj.excerpt}</p>}\r\n                        {show_rsvp_button && excerptobj.rsvp_on && <div dangerouslySetInnerHTML={{__html: excerptobj.rsvp_on}} />}\r\n                        {!hide_type && excerptobj.types && <p className=\"rsvpmeta\" dangerouslySetInnerHTML={{__html: excerptobj.types}} />}\r\n                        </>\r\n                        )}\r\n                        {!excerptobj.dateblock && (\r\n                        <>\r\n                        <p>Loading ...</p>\r\n                        </>\r\n                        )}\r\n                   </div>\r\n                 </Fragment>\r\n    );\r\n}\r\n","/**\r\n * Registers a new block provided a unique name and an object defining its behavior.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\r\n */\r\nimport './loop-variations/index.js';\r\nimport { registerBlockType, createBlock } from '@wordpress/blocks';\r\n/**\r\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\r\n * All files containing `style` keyword are bundled together. The code used\r\n * gets applied both to the front of your site and to the editor.\r\n *\r\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\r\n */\r\nimport './style.scss';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Edit from './edit';\r\nimport save from './save';\r\nimport metadata from './block.json';\r\n\r\n/**\r\n * Every block starts by registering a new block type definition.\r\n * \r\n * \r\n * \r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\r\n */\r\nregisterBlockType( metadata.name, {\r\n\t/**\r\n\t * @see ./edit.js\r\n\t */\r\n\tedit: Edit,\r\n\r\n\t/**\r\n\t * @see ./save.js\r\n\t */\r\n\tsave,\r\n} );\r\n\r\n","import { InspectorControls } from '@wordpress/block-editor';\r\nimport {PanelBody, Panel, PanelRow, SelectControl}  from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport function RSVPEventOrder (props) {\r\n\tconst  { attributes,setAttributes }  = props;\r\n    const { query } = attributes;\r\n\tconsole.log('rsvpcontrols query',query);\r\n\tconsole.log('rsvpcontrols query namespace',attributes.namespace);\r\n\tconst eventorder = query.eventOrder ? query.eventOrder : 'future';\r\n\tconsole.log('eventorder',eventorder);\r\n\treturn <p><SelectControl\tlabel=\"Event Order\" value={ eventorder } options={ [{ value: 'future', label: 'Future' },{ value: 'past',  label: \"Past\" },] } onChange={ ( value ) => { setAttributes( {query: {...query,eventOrder: value}} );} } /></p>\r\n\r\n\treturn (\r\n<><Panel header=\"My Panel\">\r\n<PanelBody title=\"My Block Settings\" initialOpen={ true }>\r\n\t<PanelRow>My Panel Inputs and Labels</PanelRow>\r\n</PanelBody>\r\n</Panel>\r\n</>\r\n);\r\n\r\n\treturn (\r\n\t\t<PanelBody>\r\n            <SelectControl\r\n                label=\"Event Order\"\r\n                value={ eventorder }\r\n                options={ [\r\n                    { value: 'future', label: 'Future' },\r\n                    { value: 'past',  label: \"Past\" },\r\n                ] }\r\n                onChange={ ( value ) => {\r\n                    setAttributes( {\r\n                        query: {\r\n                            ...query,\r\n                            eventOrder: value\r\n                        }\r\n                    } );\r\n                } }\r\n            />\r\n\t\t</PanelBody>\r\n    );\r\n}\r\n","import { InspectorControls } from '@wordpress/block-editor';\r\nimport {SelectControl}  from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {useState, useEffect} from 'react';\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\nexport function RSVPExclude (props) {\r\n\tconst  { attributes,setAttributes }  = props;\r\n    const { query } = attributes;\r\n    const exclude_type = query.excludeType ? query.excludeType : '';\r\n    const [rsvptypes, setTypes] = useState([]);\r\n    useEffect(() => {\r\n        const t = [];\r\n        if(exclude_type)\r\n            t.push({value: exclude_type, label: 'Selected: '+exclude_type});\r\n        t.push({value: '', label: 'None selected (optional)'});\r\n        apiFetch( {path: 'rsvpmaker/v1/types'} ).then( types => {\r\n            if(Array.isArray(types))\r\n                    types.map( function(type) { if(type.slug && type.name) t.push({value: type.slug, label: type.name }) } );\r\n                else {\r\n                    var typesarray = Object.values(types);\r\n                    typesarray.map( function(type) { if(type.slug && type.name) t.push({value: type.slug, label: type.name }) } );\r\n                }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n        setTypes(t);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n<SelectControl\r\n    label={__(\"EXCLUDE Event Type\",'rsvpmaker')}\r\n    selected={ exclude_type }\r\n    value={ exclude_type }\r\n    options={ rsvptypes }\r\n    onChange={ ( exclude_type ) => { setAttributes( { query: {...query, excludeType: exclude_type } }) } }\r\n/>\r\n</>\r\n);\r\n} ","import { InspectorControls } from '@wordpress/block-editor';\r\nimport { PanelBody } from '@wordpress/components';\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport {RSVPEventOrder} from './event-order';\r\nimport RSVPControls from './rsvpslot';\r\nimport {RSVPTaxonomyControls} from './taxonomy-controls';\r\nimport RSVPControlsInheritedQuery from './rsvpslot-inherited-query';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst RSVP_VARIATION_NAME = 'rsvpmaker/rsvpmaker-loop';\r\n\r\nwp.blocks.registerBlockVariation( 'core/query', {\r\n    name: RSVP_VARIATION_NAME,\r\n    title: 'RSVPMaker Query Loop',\r\n    description: 'Sets up the WordPress Query Loop with RSVPMaker template',\r\n    isActive: ( { namespace, query } ) => {\r\n        return (\r\n            namespace === RSVP_VARIATION_NAME\r\n            && query.postType === 'rsvpmaker'\r\n        );\r\n    },\r\n    icon: <svg fill=\"#000000\" version=\"1.1\" id=\"Capa_1\" \r\n\twidth=\"800px\" height=\"800px\" viewBox=\"0 0 610.398 610.398\">\r\n<g>\r\n   <g>\r\n\t   <path d=\"M159.567,0h-15.329c-1.956,0-3.811,0.411-5.608,0.995c-8.979,2.912-15.616,12.498-15.616,23.997v10.552v27.009v14.052\r\n\t\t   c0,2.611,0.435,5.078,1.066,7.44c2.702,10.146,10.653,17.552,20.158,17.552h15.329c11.724,0,21.224-11.188,21.224-24.992V62.553\r\n\t\t   V35.544V24.992C180.791,11.188,171.291,0,159.567,0z\"/>\r\n\t   <path d=\"M461.288,0h-15.329c-11.724,0-21.224,11.188-21.224,24.992v10.552v27.009v14.052c0,13.804,9.5,24.992,21.224,24.992\r\n\t\t   h15.329c11.724,0,21.224-11.188,21.224-24.992V62.553V35.544V24.992C482.507,11.188,473.007,0,461.288,0z\"/>\r\n\t   <path d=\"M539.586,62.553h-37.954v14.052c0,24.327-18.102,44.117-40.349,44.117h-15.329c-22.247,0-40.349-19.79-40.349-44.117\r\n\t\t   V62.553H199.916v14.052c0,24.327-18.102,44.117-40.349,44.117h-15.329c-22.248,0-40.349-19.79-40.349-44.117V62.553H70.818\r\n\t\t   c-21.066,0-38.15,16.017-38.15,35.764v476.318c0,19.784,17.083,35.764,38.15,35.764h468.763c21.085,0,38.149-15.984,38.149-35.764\r\n\t\t   V98.322C577.735,78.575,560.671,62.553,539.586,62.553z M527.757,557.9l-446.502-0.172V173.717h446.502V557.9z\"/>\r\n\t   <path d=\"M353.017,266.258h117.428c10.193,0,18.437-10.179,18.437-22.759s-8.248-22.759-18.437-22.759H353.017\r\n\t\t   c-10.193,0-18.437,10.179-18.437,22.759C334.58,256.074,342.823,266.258,353.017,266.258z\"/>\r\n\t   <path d=\"M353.017,348.467h117.428c10.193,0,18.437-10.179,18.437-22.759c0-12.579-8.248-22.758-18.437-22.758H353.017\r\n\t\t   c-10.193,0-18.437,10.179-18.437,22.758C334.58,338.288,342.823,348.467,353.017,348.467z\"/>\r\n\t   <path d=\"M353.017,430.676h117.428c10.193,0,18.437-10.18,18.437-22.759s-8.248-22.759-18.437-22.759H353.017\r\n\t\t   c-10.193,0-18.437,10.18-18.437,22.759S342.823,430.676,353.017,430.676z\"/>\r\n\t   <path d=\"M353.017,512.89h117.428c10.193,0,18.437-10.18,18.437-22.759c0-12.58-8.248-22.759-18.437-22.759H353.017\r\n\t\t   c-10.193,0-18.437,10.179-18.437,22.759C334.58,502.71,342.823,512.89,353.017,512.89z\"/>\r\n\t   <path d=\"M145.032,266.258H262.46c10.193,0,18.436-10.179,18.436-22.759s-8.248-22.759-18.436-22.759H145.032\r\n\t\t   c-10.194,0-18.437,10.179-18.437,22.759C126.596,256.074,134.838,266.258,145.032,266.258z\"/>\r\n\t   <path d=\"M145.032,348.467H262.46c10.193,0,18.436-10.179,18.436-22.759c0-12.579-8.248-22.758-18.436-22.758H145.032\r\n\t\t   c-10.194,0-18.437,10.179-18.437,22.758C126.596,338.288,134.838,348.467,145.032,348.467z\"/>\r\n\t   <path d=\"M145.032,430.676H262.46c10.193,0,18.436-10.18,18.436-22.759s-8.248-22.759-18.436-22.759H145.032\r\n\t\t   c-10.194,0-18.437,10.18-18.437,22.759S134.838,430.676,145.032,430.676z\"/>\r\n\t   <path d=\"M145.032,512.89H262.46c10.193,0,18.436-10.18,18.436-22.759c0-12.58-8.248-22.759-18.436-22.759H145.032\r\n\t\t   c-10.194,0-18.437,10.179-18.437,22.759C126.596,502.71,134.838,512.89,145.032,512.89z\"/>\r\n   </g>\r\n</g>\r\n</svg>,\r\n    attributes: {\r\n        namespace: RSVP_VARIATION_NAME,\r\n        query: {\r\n            perPage: 20,\r\n            pages: 0,\r\n            offset: 0,\r\n            postType: 'rsvpmaker',\r\n\t\t\torder: 'asc',\r\n            author: '',\r\n            search: '',\r\n            exclude: [],\r\n            sticky: '',\r\n            inherit: false,\r\n\t\t\teventOrder: 'future',\r\n\t\t\texcludeType: 0,\r\n        },\r\n    },\r\n\tallowedControls: [ 'inherit', 'taxQuery', 'search', 'sticky', 'author' ],\r\n\tinnerBlocks: [\r\n\t\t[\r\n\t\t\t'core/post-template',\r\n\t\t\t{\"layout\":{\"type\":\"grid\",\"columnCount\":2}},\r\n\t\t\t[ [ 'core/post-title',  {\"isLink\":true}  ], [ 'core/post-featured-image' ], ['rsvpmaker/loop-blocks'] ],\r\n\t\t],\r\n\t\t[ 'core/query-pagination' ],\r\n\t\t[ 'core/query-no-results', {}, [['core/paragraph', {\"content\": \"No events found.\"}] ]],\r\n\t],\r\n    scope: [ 'inserter','transform' ],\r\n    }\r\n);\r\n\r\nconst CALENDAR_VARIATION_NAME = 'rsvpmaker/loop-plus-calendar';\r\n\r\nwp.blocks.registerBlockVariation( 'core/query', {\r\n    name: CALENDAR_VARIATION_NAME,\r\n    title: 'RSVPMaker Query Loop + Calendar',\r\n    description: 'Sets up the WordPress Query Loop with RSVPMaker template, plus a calendar up top',\r\n    isActive: ( { namespace, query } ) => {\r\n        return (\r\n            namespace === CALENDAR_VARIATION_NAME\r\n            && query.postType === 'rsvpmaker'\r\n        );\r\n    },\r\n    icon: <svg fill=\"#000000\" version=\"1.1\" id=\"Capa_1\" \r\n\twidth=\"800px\" height=\"800px\" viewBox=\"0 0 610.398 610.398\">\r\n<g>\r\n   <g>\r\n\t   <path d=\"M159.567,0h-15.329c-1.956,0-3.811,0.411-5.608,0.995c-8.979,2.912-15.616,12.498-15.616,23.997v10.552v27.009v14.052\r\n\t\t   c0,2.611,0.435,5.078,1.066,7.44c2.702,10.146,10.653,17.552,20.158,17.552h15.329c11.724,0,21.224-11.188,21.224-24.992V62.553\r\n\t\t   V35.544V24.992C180.791,11.188,171.291,0,159.567,0z\"/>\r\n\t   <path d=\"M461.288,0h-15.329c-11.724,0-21.224,11.188-21.224,24.992v10.552v27.009v14.052c0,13.804,9.5,24.992,21.224,24.992\r\n\t\t   h15.329c11.724,0,21.224-11.188,21.224-24.992V62.553V35.544V24.992C482.507,11.188,473.007,0,461.288,0z\"/>\r\n\t   <path d=\"M539.586,62.553h-37.954v14.052c0,24.327-18.102,44.117-40.349,44.117h-15.329c-22.247,0-40.349-19.79-40.349-44.117\r\n\t\t   V62.553H199.916v14.052c0,24.327-18.102,44.117-40.349,44.117h-15.329c-22.248,0-40.349-19.79-40.349-44.117V62.553H70.818\r\n\t\t   c-21.066,0-38.15,16.017-38.15,35.764v476.318c0,19.784,17.083,35.764,38.15,35.764h468.763c21.085,0,38.149-15.984,38.149-35.764\r\n\t\t   V98.322C577.735,78.575,560.671,62.553,539.586,62.553z M527.757,557.9l-446.502-0.172V173.717h446.502V557.9z\"/>\r\n\t   <path d=\"M353.017,266.258h117.428c10.193,0,18.437-10.179,18.437-22.759s-8.248-22.759-18.437-22.759H353.017\r\n\t\t   c-10.193,0-18.437,10.179-18.437,22.759C334.58,256.074,342.823,266.258,353.017,266.258z\"/>\r\n\t   <path d=\"M353.017,348.467h117.428c10.193,0,18.437-10.179,18.437-22.759c0-12.579-8.248-22.758-18.437-22.758H353.017\r\n\t\t   c-10.193,0-18.437,10.179-18.437,22.758C334.58,338.288,342.823,348.467,353.017,348.467z\"/>\r\n\t   <path d=\"M353.017,430.676h117.428c10.193,0,18.437-10.18,18.437-22.759s-8.248-22.759-18.437-22.759H353.017\r\n\t\t   c-10.193,0-18.437,10.18-18.437,22.759S342.823,430.676,353.017,430.676z\"/>\r\n\t   <path d=\"M353.017,512.89h117.428c10.193,0,18.437-10.18,18.437-22.759c0-12.58-8.248-22.759-18.437-22.759H353.017\r\n\t\t   c-10.193,0-18.437,10.179-18.437,22.759C334.58,502.71,342.823,512.89,353.017,512.89z\"/>\r\n\t   <path d=\"M145.032,266.258H262.46c10.193,0,18.436-10.179,18.436-22.759s-8.248-22.759-18.436-22.759H145.032\r\n\t\t   c-10.194,0-18.437,10.179-18.437,22.759C126.596,256.074,134.838,266.258,145.032,266.258z\"/>\r\n\t   <path d=\"M145.032,348.467H262.46c10.193,0,18.436-10.179,18.436-22.759c0-12.579-8.248-22.758-18.436-22.758H145.032\r\n\t\t   c-10.194,0-18.437,10.179-18.437,22.758C126.596,338.288,134.838,348.467,145.032,348.467z\"/>\r\n\t   <path d=\"M145.032,430.676H262.46c10.193,0,18.436-10.18,18.436-22.759s-8.248-22.759-18.436-22.759H145.032\r\n\t\t   c-10.194,0-18.437,10.18-18.437,22.759S134.838,430.676,145.032,430.676z\"/>\r\n\t   <path d=\"M145.032,512.89H262.46c10.193,0,18.436-10.18,18.436-22.759c0-12.58-8.248-22.759-18.436-22.759H145.032\r\n\t\t   c-10.194,0-18.437,10.179-18.437,22.759C126.596,502.71,134.838,512.89,145.032,512.89z\"/>\r\n   </g>\r\n</g>\r\n</svg>,\r\n    attributes: {\r\n        namespace: CALENDAR_VARIATION_NAME,\r\n        query: {\r\n            perPage: 20,\r\n            pages: 0,\r\n            offset: 0,\r\n            postType: 'rsvpmaker',\r\n\t\t\torder: 'asc',\r\n            author: '',\r\n            search: '',\r\n            exclude: [],\r\n            sticky: '',\r\n            inherit: false,\r\n\t\t\teventOrder: 'future',\r\n\t\t\texcludeType: 0,\r\n        },\r\n    },\r\n\tallowedControls: [ 'inherit', 'taxQuery', 'search', 'sticky', 'author' ],\r\n\tinnerBlocks: [\r\n\t\t[ 'rsvpmaker/calendar' ],\r\n\t\t[\r\n\t\t\t'core/post-template',\r\n\t\t\t{\"layout\":{\"type\":\"grid\",\"columnCount\":2}},\r\n\t\t\t[ [ 'core/post-title',  {\"isLink\":true}  ], [ 'core/post-featured-image' ], ['rsvpmaker/loop-blocks'] ],\r\n\t\t],\r\n\t\t[ 'core/query-pagination' ],\r\n\t\t[ 'core/query-no-results', {}, [ ['core/paragraph', {\"content\": \"No events found.\"}] ] ],\r\n\t],\r\n    scope: [ 'inserter','transform' ],\r\n\t},\r\n\r\n);\r\n\r\nexport const withRSVPQueryControls = ( BlockEdit ) => ( props ) => {\r\n    if ( isRSVPVariation( props ) ) {\r\n \t\t// If the inherit prop is false, add all the controls.\r\n\t\tconst { attributes } = props;\r\n        console.log('attributes',attributes);\r\n\t\tif ( attributes.query.inherit === false ) {\r\n            console.log('not inherited');\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<BlockEdit { ...props } />\r\n\t\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t\t<PanelBody\r\n\t\t\t\t\t\t\ttitle={ __(\r\n\t\t\t\t\t\t\t\t'RSVPMaker Settings',\r\n\t\t\t\t\t\t\t\t'rsvpmaker'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<RSVPEventOrder {...props} />\r\n\t\t\t\t\t\t<RSVPTaxonomyControls {...props} />\r\n                        <RSVPControls.Slot fillProps={ { ...props } } />\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t</InspectorControls>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n        console.log('inherited');\r\n\t\t// Add some controls if the inherit prop is true.\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<BlockEdit { ...props } />\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t<PanelBody\r\n\t\t\t\t\t\ttitle={ __(\r\n\t\t\t\t\t\t\t'RSVPMaker Settings',\r\n\t\t\t\t\t\t\t'rsvpmaker'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RSVPControlsInheritedQuery.Slot\r\n\t\t\t\t\t\t\tfillProps={ { ...props } }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\treturn <BlockEdit { ...props } />;\r\n};\r\n\r\naddFilter( 'editor.BlockEdit', 'core/query', withRSVPQueryControls );\r\n\r\nconst isRSVPVariation = ( props ) => {\r\n    const {attributes: {namespace}} = props;\r\n    console.log('isRSVPVariation');\r\n    console.log('namespace',namespace);\r\n    const result = namespace && (namespace.includes('rsvpmaker') && namespace.includes('loop'));\r\n\treturn result;\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createSlotFill } from '@wordpress/components';\r\n\r\n/**\r\n * Create our Slot and Fill components\r\n */\r\nconst { Fill, Slot } = createSlotFill( 'RSVPControlsInheritedQuery' );\r\n\r\nconst RSVPControlsInheritedQuery = ( { children } ) => <Fill>{ children }</Fill>;\r\n\r\nRSVPControlsInheritedQuery.Slot = Slot;\r\n\r\nexport default RSVPControlsInheritedQuery;","/**\r\n * WordPress dependencies\r\n */\r\nimport { createSlotFill } from '@wordpress/components';\r\n\r\n/**\r\n * Create our Slot and Fill components\r\n */\r\nconst { Fill, Slot } = createSlotFill( 'RSVPControls' );\r\n\r\nconst RSVPControls = ( { children } ) => <Fill>{ children }</Fill>;\r\n\r\nRSVPControls.Slot = ( { fillProps } ) => (\r\n\t<Slot fillProps={ fillProps }>\r\n\t\t{ ( fills ) => {\r\n\t\t\treturn fills.length ? fills : null;\r\n\t\t} }\r\n\t</Slot>\r\n);\r\n\r\nexport default RSVPControls;","/**\r\n * WordPress dependencies - from gutenberg standard query controls\r\n */\r\nimport { FormTokenField } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport { useDebounce } from '@wordpress/compose';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { RSVPExclude } from './exclude-type';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useTaxonomies } from './utils';\r\n\r\nconst EMPTY_ARRAY = [];\r\nconst BASE_QUERY = {\r\n\torder: 'asc',\r\n\t_fields: 'id,name',\r\n\tcontext: 'view',\r\n};\r\n\r\n// Helper function to get the term id based on user input in terms `FormTokenField`.\r\nconst getTermIdByTermValue = ( terms, termValue ) => {\r\n\t// First we check for exact match by `term.id` or case sensitive `term.name` match.\r\n\tconst termId =\r\n\t\ttermValue?.id || terms?.find( ( term ) => term.name === termValue )?.id;\r\n\tif ( termId ) {\r\n\t\treturn termId;\r\n\t}\r\n\r\n\t/**\r\n\t * Here we make an extra check for entered terms in a non case sensitive way,\r\n\t * to match user expectations, due to `FormTokenField` behaviour that shows\r\n\t * suggestions which are case insensitive.\r\n\t *\r\n\t * Although WP tries to discourage users to add terms with the same name (case insensitive),\r\n\t * it's still possible if you manually change the name, as long as the terms have different slugs.\r\n\t * In this edge case we always apply the first match from the terms list.\r\n\t */\r\n\tconst termValueLower = termValue.toLocaleLowerCase();\r\n\treturn terms?.find(\r\n\t\t( term ) => term.name.toLocaleLowerCase() === termValueLower\r\n\t)?.id;\r\n};\r\n\r\nexport function RSVPTaxonomyControls( props ) {\r\n\tconsole.log('RSVPTaxonomyControls props',props);\r\n\tif(!props)\r\n\t\treturn <></>\r\n\tconst { attributes:{query}, setAttributes } = props;\r\n\tconst { postType, taxQuery } = query;\r\n\r\n\tconst taxonomies = useTaxonomies( postType );\r\n\tif ( ! taxonomies || taxonomies.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\tconsole.log('taxonomies obj',taxonomies);\r\n\tlet rsvptax;\r\n\tlet excludeIds;\r\n\tconst exclude = (query.excludeType) ? query.excludeType : 0;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ taxonomies.map( ( taxonomy ) => {\r\n\t\t\t\tconst termIds = taxQuery?.[ taxonomy.slug ] || [];\r\n\t\t\t\tconst handleChange = ( newTermIds ) => setAttributes({query: {...query, taxQuery: {...taxQuery,[ taxonomy.slug ]: newTermIds}}});\r\n\t\t\t\tif('rsvpmaker-type' == taxonomy.slug) {\r\n\t\t\t\t\trsvptax = taxonomy;\r\n\t\t\t\t\texcludeIds = termIds;\r\n\t\t\t\t\tconsole.log('termIds',termIds);\r\n\t\t\t\t\tconsole.log('excludeIds',excludeIds);\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TaxonomyItem\r\n\t\t\t\t\t\tkey={ taxonomy.slug }\r\n\t\t\t\t\t\ttaxonomy={ taxonomy }\r\n\t\t\t\t\t\ttermIds={ termIds }\r\n\t\t\t\t\t\tonChange={ handleChange }\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t} ) }\r\n\t\t\t<RSVPExclude {...props} />\r\n\t\t</>\r\n\t);\r\n}\r\n/**\r\n * Renders a `FormTokenField` for a given taxonomy.\r\n *\r\n * @param {Object}   props          The props for the component.\r\n * @param {Object}   props.taxonomy The taxonomy object.\r\n * @param {number[]} props.termIds  An array with the block's term ids for the given taxonomy.\r\n * @param {Function} props.onChange Callback `onChange` function.\r\n * @return {JSX.Element} The rendered component.\r\n */\r\nfunction TaxonomyItem( { taxonomy, termIds, onChange } ) {\r\n\tconsole.log('taxonomy item taxonomy',taxonomy);\r\n\tconsole.log('TaxonomyItem termids',termIds);\r\n\tconst [ search, setSearch ] = useState( '' );\r\n\tconst [ value, setValue ] = useState( EMPTY_ARRAY );\r\n\tconst [ suggestions, setSuggestions ] = useState( EMPTY_ARRAY );\r\n\tconst debouncedSearch = useDebounce( setSearch, 250 );\r\n\tconst { searchResults, searchHasResolved } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif ( ! search ) {\r\n\t\t\t\treturn { searchResults: EMPTY_ARRAY, searchHasResolved: true };\r\n\t\t\t}\r\n\t\t\tconst { getEntityRecords, hasFinishedResolution } =\r\n\t\t\t\tselect( coreStore );\r\n\t\t\tconst selectorArgs = [\r\n\t\t\t\t'taxonomy',\r\n\t\t\t\ttaxonomy.slug,\r\n\t\t\t\t{\r\n\t\t\t\t\t...BASE_QUERY,\r\n\t\t\t\t\tsearch,\r\n\t\t\t\t\torderby: 'name',\r\n\t\t\t\t\texclude: termIds,\r\n\t\t\t\t\tper_page: 20,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\treturn {\r\n\t\t\t\tsearchResults: getEntityRecords( ...selectorArgs ),\r\n\t\t\t\tsearchHasResolved: hasFinishedResolution(\r\n\t\t\t\t\t'getEntityRecords',\r\n\t\t\t\t\tselectorArgs\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ search, termIds ]\r\n\t);\r\n\t// `existingTerms` are the ones fetched from the API and their type is `{ id: number; name: string }`.\r\n\t// They are used to extract the terms' names to populate the `FormTokenField` properly\r\n\t// and to sanitize the provided `termIds`, by setting only the ones that exist.\r\n\tconst existingTerms = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif ( ! termIds?.length ) return EMPTY_ARRAY;\r\n\t\t\tconst { getEntityRecords } = select( coreStore );\r\n\t\t\treturn getEntityRecords( 'taxonomy', taxonomy.slug, {\r\n\t\t\t\t...BASE_QUERY,\r\n\t\t\t\tinclude: termIds,\r\n\t\t\t\tper_page: termIds.length,\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ termIds ]\r\n\t);\r\n\t// Update the `value` state only after the selectors are resolved\r\n\t// to avoid emptying the input when we're changing terms.\r\n\tuseEffect( () => {\r\n\t\tif ( ! termIds?.length ) {\r\n\t\t\tsetValue( EMPTY_ARRAY );\r\n\t\t}\r\n\t\tif ( ! existingTerms?.length ) return;\r\n\t\t// Returns only the existing entity ids. This prevents the component\r\n\t\t// from crashing in the editor, when non existing ids are provided.\r\n\t\tconst sanitizedValue = termIds.reduce( ( accumulator, id ) => {\r\n\t\t\tconst entity = existingTerms.find( ( term ) => term.id === id );\r\n\t\t\tif ( entity ) {\r\n\t\t\t\taccumulator.push( {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tvalue: entity.name,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\treturn accumulator;\r\n\t\t}, [] );\r\n\t\tsetValue( sanitizedValue );\r\n\t}, [ termIds, existingTerms ] );\r\n\t// Update suggestions only when the query has resolved.\r\n\tuseEffect( () => {\r\n\t\tif ( ! searchHasResolved || !searchResults ) return;\r\n\t\tsetSuggestions( searchResults.map( ( result ) => result.name ) );\r\n\t}, [ searchResults, searchHasResolved ] );\r\n\tconst onTermsChange = ( newTermValues ) => {\r\n\t\tconst newTermIds = new Set();\r\n\t\tfor ( const termValue of newTermValues ) {\r\n\t\t\tconst termId = getTermIdByTermValue( searchResults, termValue );\r\n\t\t\tif ( termId ) {\r\n\t\t\t\tnewTermIds.add( termId );\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetSuggestions( EMPTY_ARRAY );\r\n\t\tonChange( Array.from( newTermIds ) );\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"block-library-query-inspector__taxonomy-control\">\r\n\t\t\t<FormTokenField\r\n\t\t\t\tlabel={ taxonomy.name }\r\n\t\t\t\tvalue={ value }\r\n\t\t\t\tonInputChange={ debouncedSearch }\r\n\t\t\t\tsuggestions={ suggestions }\r\n\t\t\t\tdisplayTransform={ decodeEntities }\r\n\t\t\t\tonChange={ onTermsChange }\r\n\t\t\t\t__experimentalShowHowTo={ false }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n","/**\r\n * WordPress dependencies - from https://github.com/WordPress/gutenberg/blob/e9bccc865ced643bdc1e262aa7efac16253dda94/packages/block-library/src/query/utils.js\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport {\r\n\tcloneBlock,\r\n\tgetBlockSupport,\r\n\tstore as blocksStore,\r\n} from '@wordpress/blocks';\r\n\r\n/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\r\n\r\n/**\r\n * @typedef IHasNameAndId\r\n * @property {string|number} id   The entity's id.\r\n * @property {string}        name The entity's name.\r\n */\r\n\r\nexport const useTaxonomies = ( postType ) => {\r\n\tconst taxonomies = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getTaxonomies } = select( coreStore );\r\n\t\t\treturn getTaxonomies( {\r\n\t\t\t\ttype: postType,\r\n\t\t\t\tper_page: -1,\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ postType ]\r\n\t);\r\n\treturn useMemo( () => {\r\n\t\treturn taxonomies?.filter(\r\n\t\t\t( { visibility } ) => !! visibility?.publicly_queryable\r\n\t\t);\r\n\t}, [ taxonomies ] );\r\n};\r\n","/**\r\n * React hook that is used to mark the block wrapper element.\r\n * It provides all the necessary props like the class name.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\r\n */\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * The save function defines the way in which the different attributes should\r\n * be combined into the final markup, which is then serialized by the block\r\n * editor into `post_content`.\r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#save\r\n *\r\n * @return {WPElement} Element to render.\r\n */\r\nexport default function save() {\r\n\treturn null;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"loop_excerpt_block/index\": 0,\n\t\"loop_excerpt_block/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkadmin\"] = globalThis[\"webpackChunkadmin\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"loop_excerpt_block/style-index\"], () => (__webpack_require__(\"./src/loop_excerpt_block/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","InspectorControls","useBlockProps","apiFetch","Component","Fragment","wp","element","Panel","PanelBody","ToggleControl","components","React","useState","useEffect","Edit","props","attributes","show_rsvp_button","hide_excerpt","hide_date","hide_type","setAttributes","context","isSelected","postId","excerptobj","setExcerptobj","console","log","path","then","excerpt","ExcerptInspector","render","createElement","key","title","label","checked","onChange","dateblock","dangerouslySetInnerHTML","__html","rsvp_on","types","className","registerBlockType","createBlock","save","metadata","name","edit","PanelRow","SelectControl","RSVPEventOrder","query","namespace","eventorder","eventOrder","value","options","header","initialOpen","RSVPExclude","exclude_type","excludeType","rsvptypes","setTypes","t","push","Array","isArray","map","type","slug","typesarray","Object","values","catch","err","selected","addFilter","RSVPControls","RSVPTaxonomyControls","RSVPControlsInheritedQuery","RSVP_VARIATION_NAME","blocks","registerBlockVariation","description","isActive","postType","icon","fill","version","id","width","height","viewBox","d","perPage","pages","offset","order","author","search","exclude","sticky","inherit","allowedControls","innerBlocks","scope","CALENDAR_VARIATION_NAME","withRSVPQueryControls","BlockEdit","isRSVPVariation","Slot","fillProps","result","includes","createSlotFill","Fill","children","fills","length","FormTokenField","useSelect","store","coreStore","useDebounce","decodeEntities","useTaxonomies","EMPTY_ARRAY","BASE_QUERY","_fields","getTermIdByTermValue","terms","termValue","termId","find","term","termValueLower","toLocaleLowerCase","taxQuery","taxonomies","rsvptax","excludeIds","taxonomy","termIds","handleChange","newTermIds","TaxonomyItem","setSearch","setValue","suggestions","setSuggestions","debouncedSearch","searchResults","searchHasResolved","select","getEntityRecords","hasFinishedResolution","selectorArgs","orderby","per_page","existingTerms","include","sanitizedValue","reduce","accumulator","entity","onTermsChange","newTermValues","Set","add","from","onInputChange","displayTransform","__experimentalShowHowTo","useMemo","blockEditorStore","cloneBlock","getBlockSupport","blocksStore","getTaxonomies","filter","visibility","publicly_queryable"],"sourceRoot":""}